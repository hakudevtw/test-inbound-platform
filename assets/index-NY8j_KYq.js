import{r,_ as We,b as xe,c as Ae,R as Q,d as me,e as U,f as Qe,h as Pe,o as ke,u as Fe,i as Me,l as Oe,D as Te,m as oe,n as Ee,C as Ie,t as Xe,p as Je,q as je,s as Ye,v as $e,I as Be,w as ie,x as Ze,y as et,z as tt,A as nt,B as Ne,E as ze,G as rt,j as H,k as at,H as st,F as we}from"./index-Q7M_5bHA.js";import{a as ot,b as lt,B as it,t as ct,r as Re,c as ut,d as ft,e as De,g as dt,f as mt,h as _e,i as Ve,j as pt,k as vt,l as gt,m as Ct,n as yt,T as ht,R as xt,C as bt}from"./favorite-button-Dqhb-Kfk.js";import{u as St}from"./utils-BiAfoxeO.js";import{R as wt,u as Ot,M as Et,P as Pt}from"./movie-card-CMQIpXWV.js";import{E as be}from"./index-5j6OG3iF.js";import"./useLocale-UNEe-K9F.js";var It=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],jt=r.forwardRef(function(e,a){var s=e.autoComplete,t=e.onChange,n=e.onFocus,l=e.onBlur,o=e.onPressEnter,c=e.onKeyDown,E=e.onKeyUp,I=e.prefixCls,C=I===void 0?"rc-input":I,x=e.disabled,$=e.htmlSize,k=e.className,N=e.maxLength,D=e.suffix,z=e.showCount,P=e.count,y=e.type,F=y===void 0?"text":y,M=e.classes,b=e.classNames,S=e.styles,A=e.onCompositionStart,T=e.onCompositionEnd,V=We(e,It),m=r.useState(!1),h=xe(m,2),B=h[0],p=h[1],R=r.useRef(!1),g=r.useRef(!1),j=r.useRef(null),q=r.useRef(null),W=function(O){j.current&&ct(j.current,O)},Y=ot(e.defaultValue,{value:e.value}),X=xe(Y,2),v=X[0],w=X[1],K=v==null?"":String(v),i=r.useState(null),u=xe(i,2),f=u[0],G=u[1],d=lt(P,z),J=d.max||N,ee=d.strategy(K),ve=!!J&&ee>J;r.useImperativeHandle(a,function(){var _;return{focus:W,blur:function(){var L;(L=j.current)===null||L===void 0||L.blur()},setSelectionRange:function(L,se,ne){var te;(te=j.current)===null||te===void 0||te.setSelectionRange(L,se,ne)},select:function(){var L;(L=j.current)===null||L===void 0||L.select()},input:j.current,nativeElement:((_=q.current)===null||_===void 0?void 0:_.nativeElement)||j.current}}),r.useEffect(function(){g.current&&(g.current=!1),p(function(_){return _&&x?!1:_})},[x]);var ce=function(O,L,se){var ne=L;if(!R.current&&d.exceedFormatter&&d.max&&d.strategy(L)>d.max){if(ne=d.exceedFormatter(L,{max:d.max}),L!==ne){var te,he;G([((te=j.current)===null||te===void 0?void 0:te.selectionStart)||0,((he=j.current)===null||he===void 0?void 0:he.selectionEnd)||0])}}else if(se.source==="compositionEnd")return;w(ne),j.current&&Re(j.current,O,t,ne)};r.useEffect(function(){if(f){var _;(_=j.current)===null||_===void 0||_.setSelectionRange.apply(_,Ae(f))}},[f]);var ge=function(O){ce(O,O.target.value,{source:"change"})},Ce=function(O){R.current=!1,ce(O,O.currentTarget.value,{source:"compositionEnd"}),T==null||T(O)},ye=function(O){o&&O.key==="Enter"&&!g.current&&(g.current=!0,o(O)),c==null||c(O)},ue=function(O){O.key==="Enter"&&(g.current=!1),E==null||E(O)},fe=function(O){p(!0),n==null||n(O)},Z=function(O){g.current&&(g.current=!1),p(!1),l==null||l(O)},ae=function(O){w(""),W(),j.current&&Re(j.current,O,t)},qe=ve&&"".concat(C,"-out-of-range"),He=function(){var O=ke(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return Q.createElement("input",me({autoComplete:s},O,{onChange:ge,onFocus:fe,onBlur:Z,onKeyDown:ye,onKeyUp:ue,className:U(C,Pe({},"".concat(C,"-disabled"),x),b==null?void 0:b.input),style:S==null?void 0:S.input,ref:j,size:$,type:F,onCompositionStart:function(se){R.current=!0,A==null||A(se)},onCompositionEnd:Ce}))},Ge=function(){var O=Number(J)>0;if(D||d.show){var L=d.showFormatter?d.showFormatter({value:K,count:ee,maxLength:J}):"".concat(ee).concat(O?" / ".concat(J):"");return Q.createElement(Q.Fragment,null,d.show&&Q.createElement("span",{className:U("".concat(C,"-show-count-suffix"),Pe({},"".concat(C,"-show-count-has-suffix"),!!D),b==null?void 0:b.count),style:Qe({},S==null?void 0:S.count)},L),D)}return null};return Q.createElement(it,me({},V,{prefixCls:C,className:U(k,qe),handleReset:ae,value:K,focused:B,triggerFocus:W,suffix:Ge(),disabled:x,classes:M,classNames:b,styles:S,ref:q}),He())});function Ke(e,a){const s=r.useRef([]),t=()=>{s.current.push(setTimeout(()=>{var n,l,o,c;!((n=e.current)===null||n===void 0)&&n.input&&((l=e.current)===null||l===void 0?void 0:l.input.getAttribute("type"))==="password"&&(!((o=e.current)===null||o===void 0)&&o.input.hasAttribute("value"))&&((c=e.current)===null||c===void 0||c.input.removeAttribute("value"))}))};return r.useEffect(()=>(a&&t(),()=>s.current.forEach(n=>{n&&clearTimeout(n)})),[]),t}function $t(e){return!!(e.prefix||e.suffix||e.allowClear||e.showCount)}var Nt=function(e,a){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const pe=r.forwardRef((e,a)=>{const{prefixCls:s,bordered:t=!0,status:n,size:l,disabled:o,onBlur:c,onFocus:E,suffix:I,allowClear:C,addonAfter:x,addonBefore:$,className:k,style:N,styles:D,rootClassName:z,onChange:P,classNames:y,variant:F}=e,M=Nt(e,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","style","styles","rootClassName","onChange","classNames","variant"]),{getPrefixCls:b,direction:S,allowClear:A,autoComplete:T,className:V,style:m,classNames:h,styles:B}=Fe("input"),p=b("input",s),R=r.useRef(null),g=ut(p),[j,q,W]=ft(p,z),[Y]=De(p,g),{compactSize:X,compactItemClassnames:v}=Me(p,S),w=Oe(Z=>{var ae;return(ae=l??X)!==null&&ae!==void 0?ae:Z}),K=Q.useContext(Te),i=o??K,{status:u,hasFeedback:f,feedbackIcon:G}=r.useContext(oe),d=Ve(u,n),J=$t(e)||!!f;r.useRef(J);const ee=Ke(R,!0),ve=Z=>{ee(),c==null||c(Z)},ce=Z=>{ee(),E==null||E(Z)},ge=Z=>{ee(),P==null||P(Z)},Ce=(f||I)&&Q.createElement(Q.Fragment,null,I,f&&G),ye=dt(C??A),[ue,fe]=mt("input",F,t);return j(Y(Q.createElement(jt,Object.assign({ref:Ee(a,R),prefixCls:p,autoComplete:T},M,{disabled:i,onBlur:ve,onFocus:ce,style:Object.assign(Object.assign({},m),N),styles:Object.assign(Object.assign({},B),D),suffix:Ce,allowClear:ye,className:U(k,z,W,g,v,V),onChange:ge,addonBefore:$&&Q.createElement(Ie,{form:!0,space:!0},$),addonAfter:x&&Q.createElement(Ie,{form:!0,space:!0},x),classNames:Object.assign(Object.assign(Object.assign({},y),h),{input:U({[`${p}-sm`]:w==="small",[`${p}-lg`]:w==="large",[`${p}-rtl`]:S==="rtl"},y==null?void 0:y.input,h.input,q),variant:U({[`${p}-${ue}`]:fe},_e(p,d)),affixWrapper:U({[`${p}-affix-wrapper-sm`]:w==="small",[`${p}-affix-wrapper-lg`]:w==="large",[`${p}-affix-wrapper-rtl`]:S==="rtl"},q),wrapper:U({[`${p}-group-rtl`]:S==="rtl"},q),groupWrapper:U({[`${p}-group-wrapper-sm`]:w==="small",[`${p}-group-wrapper-lg`]:w==="large",[`${p}-group-wrapper-rtl`]:S==="rtl",[`${p}-group-wrapper-${ue}`]:fe},_e(`${p}-group-wrapper`,d,f),q)})}))))}),Le=Q.createContext({latestIndex:0}),zt=Le.Provider,Rt=e=>{let{className:a,index:s,children:t,split:n,style:l}=e;const{latestIndex:o}=r.useContext(Le);return t==null?null:r.createElement(r.Fragment,null,r.createElement("div",{className:a,style:l},t),s<o&&n&&r.createElement("span",{className:`${a}-split`},n))};var _t=function(e,a){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const At=r.forwardRef((e,a)=>{var s;const{getPrefixCls:t,direction:n,size:l,className:o,style:c,classNames:E,styles:I}=Fe("space"),{size:C=l??"small",align:x,className:$,rootClassName:k,children:N,direction:D="horizontal",prefixCls:z,split:P,style:y,wrap:F=!1,classNames:M,styles:b}=e,S=_t(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[A,T]=Array.isArray(C)?C:[C,C],V=je(T),m=je(A),h=$e(T),B=$e(A),p=Xe(N,{keepEmpty:!0}),R=x===void 0&&D==="horizontal"?"center":x,g=t("space",z),[j,q,W]=Je(g),Y=U(g,o,q,`${g}-${D}`,{[`${g}-rtl`]:n==="rtl",[`${g}-align-${R}`]:R,[`${g}-gap-row-${T}`]:V,[`${g}-gap-col-${A}`]:m},$,k,W),X=U(`${g}-item`,(s=M==null?void 0:M.item)!==null&&s!==void 0?s:E.item);let v=0;const w=p.map((u,f)=>{var G;u!=null&&(v=f);const d=(u==null?void 0:u.key)||`${X}-${f}`;return r.createElement(Rt,{className:X,key:d,index:f,split:P,style:(G=b==null?void 0:b.item)!==null&&G!==void 0?G:I.item},u)}),K=r.useMemo(()=>({latestIndex:v}),[v]);if(p.length===0)return null;const i={};return F&&(i.flexWrap="wrap"),!m&&B&&(i.columnGap=A),!V&&h&&(i.rowGap=T),j(r.createElement("div",Object.assign({ref:a,className:Y,style:Object.assign(Object.assign(Object.assign({},i),c),y)},S),r.createElement(zt,{value:K},w)))}),Ue=At;Ue.Compact=Ye;var kt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},Ft=function(a,s){return r.createElement(Be,me({},a,{ref:s,icon:kt}))},Mt=r.forwardRef(Ft);const Tt=e=>{const{getPrefixCls:a,direction:s}=r.useContext(ie),{prefixCls:t,className:n}=e,l=a("input-group",t),o=a("input"),[c,E,I]=De(o),C=U(l,I,{[`${l}-lg`]:e.size==="large",[`${l}-sm`]:e.size==="small",[`${l}-compact`]:e.compact,[`${l}-rtl`]:s==="rtl"},E,n),x=r.useContext(oe),$=r.useMemo(()=>Object.assign(Object.assign({},x),{isFormItemInput:!1}),[x]);return c(r.createElement("span",{className:C,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},r.createElement(oe.Provider,{value:$},e.children)))},Bt=e=>{const{componentCls:a,paddingXS:s}=e;return{[a]:{display:"inline-flex",alignItems:"center",flexWrap:"nowrap",columnGap:s,[`${a}-input-wrapper`]:{position:"relative",[`${a}-mask-icon`]:{position:"absolute",zIndex:"1",top:"50%",right:"50%",transform:"translate(50%, -50%)",pointerEvents:"none"},[`${a}-mask-input`]:{color:"transparent",caretColor:"var(--ant-color-text)"},[`${a}-mask-input[type=number]::-webkit-inner-spin-button`]:{"-webkit-appearance":"none",margin:0},[`${a}-mask-input[type=number]`]:{"-moz-appearance":"textfield"}},"&-rtl":{direction:"rtl"},[`${a}-input`]:{textAlign:"center",paddingInline:e.paddingXXS},[`&${a}-sm ${a}-input`]:{paddingInline:e.calc(e.paddingXXS).div(2).equal()},[`&${a}-lg ${a}-input`]:{paddingInline:e.paddingXS}}}},Dt=Ze(["Input","OTP"],e=>{const a=et(e,pt(e));return[Bt(a)]},vt);var Vt=function(e,a){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const Kt=r.forwardRef((e,a)=>{const{className:s,value:t,onChange:n,onActiveChange:l,index:o,mask:c}=e,E=Vt(e,["className","value","onChange","onActiveChange","index","mask"]),{getPrefixCls:I}=r.useContext(ie),C=I("otp"),x=typeof c=="string"?c:t,$=r.useRef(null);r.useImperativeHandle(a,()=>$.current);const k=P=>{n(o,P.target.value)},N=()=>{tt(()=>{var P;const y=(P=$.current)===null||P===void 0?void 0:P.input;document.activeElement===y&&y&&y.select()})},D=P=>{const{key:y,ctrlKey:F,metaKey:M}=P;y==="ArrowLeft"?l(o-1):y==="ArrowRight"?l(o+1):y==="z"&&(F||M)&&P.preventDefault(),N()},z=P=>{P.key==="Backspace"&&!t&&l(o-1),N()};return r.createElement("span",{className:`${C}-input-wrapper`,role:"presentation"},c&&t!==""&&t!==void 0&&r.createElement("span",{className:`${C}-mask-icon`,"aria-hidden":"true"},x),r.createElement(pe,Object.assign({"aria-label":`OTP Input ${o+1}`,type:c===!0?"password":"text"},E,{ref:$,value:t,onInput:k,onFocus:N,onKeyDown:D,onKeyUp:z,onMouseDown:N,onMouseUp:N,className:U(s,{[`${C}-mask-input`]:c})})))});var Lt=function(e,a){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};function de(e){return(e||"").split("")}const Ut=e=>{const{index:a,prefixCls:s,separator:t}=e,n=typeof t=="function"?t(a):t;return n?r.createElement("span",{className:`${s}-separator`},n):null},qt=r.forwardRef((e,a)=>{const{prefixCls:s,length:t=6,size:n,defaultValue:l,value:o,onChange:c,formatter:E,separator:I,variant:C,disabled:x,status:$,autoFocus:k,mask:N,type:D,onInput:z,inputMode:P}=e,y=Lt(e,["prefixCls","length","size","defaultValue","value","onChange","formatter","separator","variant","disabled","status","autoFocus","mask","type","onInput","inputMode"]),{getPrefixCls:F,direction:M}=r.useContext(ie),b=F("otp",s),S=nt(y,{aria:!0,data:!0,attr:!0}),[A,T,V]=Dt(b),m=Oe(i=>n??i),h=r.useContext(oe),B=Ve(h.status,$),p=r.useMemo(()=>Object.assign(Object.assign({},h),{status:B,hasFeedback:!1,feedbackIcon:null}),[h,B]),R=r.useRef(null),g=r.useRef({});r.useImperativeHandle(a,()=>({focus:()=>{var i;(i=g.current[0])===null||i===void 0||i.focus()},blur:()=>{var i;for(let u=0;u<t;u+=1)(i=g.current[u])===null||i===void 0||i.blur()},nativeElement:R.current}));const j=i=>E?E(i):i,[q,W]=r.useState(()=>de(j(l||"")));r.useEffect(()=>{o!==void 0&&W(de(o))},[o]);const Y=Ne(i=>{W(i),z&&z(i),c&&i.length===t&&i.every(u=>u)&&i.some((u,f)=>q[f]!==u)&&c(i.join(""))}),X=Ne((i,u)=>{let f=Ae(q);for(let d=0;d<i;d+=1)f[d]||(f[d]="");u.length<=1?f[i]=u:f=f.slice(0,i).concat(de(u)),f=f.slice(0,t);for(let d=f.length-1;d>=0&&!f[d];d-=1)f.pop();const G=j(f.map(d=>d||" ").join(""));return f=de(G).map((d,J)=>d===" "&&!f[J]?f[J]:d),f}),v=(i,u)=>{var f;const G=X(i,u),d=Math.min(i+u.length,t-1);d!==i&&G[i]!==void 0&&((f=g.current[d])===null||f===void 0||f.focus()),Y(G)},w=i=>{var u;(u=g.current[i])===null||u===void 0||u.focus()},K={variant:C,disabled:x,status:B,mask:N,type:D,inputMode:P};return A(r.createElement("div",Object.assign({},S,{ref:R,className:U(b,{[`${b}-sm`]:m==="small",[`${b}-lg`]:m==="large",[`${b}-rtl`]:M==="rtl"},V,T),role:"group"}),r.createElement(oe.Provider,{value:p},Array.from({length:t}).map((i,u)=>{const f=`otp-${u}`,G=q[u]||"";return r.createElement(r.Fragment,{key:f},r.createElement(Kt,Object.assign({ref:d=>{g.current[u]=d},index:u,size:m,htmlSize:1,className:`${b}-input`,onChange:v,value:G,onActiveChange:w,autoFocus:u===0&&k},K)),u<t-1&&r.createElement(Ut,{separator:I,index:u,prefixCls:b}))}))))});var Ht={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},Gt=function(a,s){return r.createElement(Be,me({},a,{ref:s,icon:Ht}))},Wt=r.forwardRef(Gt),Qt=function(e,a){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const Xt=e=>e?r.createElement(Mt,null):r.createElement(Wt,null),Jt={click:"onClick",hover:"onMouseOver"},Yt=r.forwardRef((e,a)=>{const{disabled:s,action:t="click",visibilityToggle:n=!0,iconRender:l=Xt}=e,o=r.useContext(Te),c=s??o,E=typeof n=="object"&&n.visible!==void 0,[I,C]=r.useState(()=>E?n.visible:!1),x=r.useRef(null);r.useEffect(()=>{E&&C(n.visible)},[E,n]);const $=Ke(x),k=()=>{var m;if(c)return;I&&$();const h=!I;C(h),typeof n=="object"&&((m=n.onVisibleChange)===null||m===void 0||m.call(n,h))},N=m=>{const h=Jt[t]||"",B=l(I),p={[h]:k,className:`${m}-icon`,key:"passwordIcon",onMouseDown:R=>{R.preventDefault()},onMouseUp:R=>{R.preventDefault()}};return r.cloneElement(r.isValidElement(B)?B:r.createElement("span",null,B),p)},{className:D,prefixCls:z,inputPrefixCls:P,size:y}=e,F=Qt(e,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:M}=r.useContext(ie),b=M("input",P),S=M("input-password",z),A=n&&N(S),T=U(S,D,{[`${S}-${y}`]:!!y}),V=Object.assign(Object.assign({},ke(F,["suffix","iconRender","visibilityToggle"])),{type:I?"text":"password",className:T,prefixCls:b,suffix:A});return y&&(V.size=y),r.createElement(pe,Object.assign({ref:Ee(a,x)},V))});var Zt=function(e,a){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)a.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(s[t[n]]=e[t[n]]);return s};const en=r.forwardRef((e,a)=>{const{prefixCls:s,inputPrefixCls:t,className:n,size:l,suffix:o,enterButton:c=!1,addonAfter:E,loading:I,disabled:C,onSearch:x,onChange:$,onCompositionStart:k,onCompositionEnd:N}=e,D=Zt(e,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:z,direction:P}=r.useContext(ie),y=r.useRef(!1),F=z("input-search",s),M=z("input",t),{compactSize:b}=Me(F,P),S=Oe(v=>{var w;return(w=l??b)!==null&&w!==void 0?w:v}),A=r.useRef(null),T=v=>{v!=null&&v.target&&v.type==="click"&&x&&x(v.target.value,v,{source:"clear"}),$==null||$(v)},V=v=>{var w;document.activeElement===((w=A.current)===null||w===void 0?void 0:w.input)&&v.preventDefault()},m=v=>{var w,K;x&&x((K=(w=A.current)===null||w===void 0?void 0:w.input)===null||K===void 0?void 0:K.value,v,{source:"input"})},h=v=>{y.current||I||m(v)},B=typeof c=="boolean"?r.createElement(wt,null):null,p=`${F}-button`;let R;const g=c||{},j=g.type&&g.type.__ANT_BUTTON===!0;j||g.type==="button"?R=ze(g,Object.assign({onMouseDown:V,onClick:v=>{var w,K;(K=(w=g==null?void 0:g.props)===null||w===void 0?void 0:w.onClick)===null||K===void 0||K.call(w,v),m(v)},key:"enterButton"},j?{className:p,size:S}:{})):R=r.createElement(rt,{className:p,type:c?"primary":void 0,size:S,disabled:C,key:"enterButton",onMouseDown:V,onClick:m,loading:I,icon:B},c),E&&(R=[R,ze(E,{key:"addonAfter"})]);const q=U(F,{[`${F}-rtl`]:P==="rtl",[`${F}-${S}`]:!!S,[`${F}-with-button`]:!!c},n),W=Object.assign(Object.assign({},D),{className:q,prefixCls:M,type:"search"}),Y=v=>{y.current=!0,k==null||k(v)},X=v=>{y.current=!1,N==null||N(v)};return r.createElement(pe,Object.assign({ref:Ee(A,a),onPressEnter:h},W,{size:S,onCompositionStart:Y,onCompositionEnd:X,addonAfter:R,suffix:o,onChange:T,disabled:C}))}),re=pe;re.Group=Tt;re.Search=en;re.TextArea=gt;re.Password=Yt;re.OTP=qt;function tn(e,a,s){var t=this,n=r.useRef(null),l=r.useRef(0),o=r.useRef(null),c=r.useRef([]),E=r.useRef(),I=r.useRef(),C=r.useRef(e),x=r.useRef(!0);C.current=e;var $=typeof window<"u",k=!a&&a!==0&&$;if(typeof e!="function")throw new TypeError("Expected a function");a=+a||0;var N=!!(s=s||{}).leading,D=!("trailing"in s)||!!s.trailing,z="maxWait"in s,P="debounceOnServer"in s&&!!s.debounceOnServer,y=z?Math.max(+s.maxWait||0,a):null;r.useEffect(function(){return x.current=!0,function(){x.current=!1}},[]);var F=r.useMemo(function(){var M=function(m){var h=c.current,B=E.current;return c.current=E.current=null,l.current=m,I.current=C.current.apply(B,h)},b=function(m,h){k&&cancelAnimationFrame(o.current),o.current=k?requestAnimationFrame(m):setTimeout(m,h)},S=function(m){if(!x.current)return!1;var h=m-n.current;return!n.current||h>=a||h<0||z&&m-l.current>=y},A=function(m){return o.current=null,D&&c.current?M(m):(c.current=E.current=null,I.current)},T=function m(){var h=Date.now();if(S(h))return A(h);if(x.current){var B=a-(h-n.current),p=z?Math.min(B,y-(h-l.current)):B;b(m,p)}},V=function(){if($||P){var m=Date.now(),h=S(m);if(c.current=[].slice.call(arguments),E.current=t,n.current=m,h){if(!o.current&&x.current)return l.current=n.current,b(T,a),N?M(n.current):I.current;if(z)return b(T,a),M(n.current)}return o.current||b(T,a),I.current}};return V.cancel=function(){o.current&&(k?cancelAnimationFrame(o.current):clearTimeout(o.current)),l.current=0,c.current=n.current=E.current=o.current=null},V.isPending=function(){return!!o.current},V.flush=function(){return o.current?A(Date.now()):I.current},V},[N,z,a,y,D,k,$,P]);return F}const nn=()=>{const e=new URLSearchParams(window.location.search),a=e.get("s")||"",s=parseInt(e.get("page")||"1",10);return{s:a,page:s}},rn=yt(e=>({search:nn(),updateSearch:a=>{St(a),e(s=>({search:{...s.search,...a}}))}})),le=Ct(rn);function an(){const{s:e}=le.use.search(),a=le.use.updateSearch(),[s,t]=r.useState(()=>e),n=tn(async o=>{a({s:o,page:1})},500),l=o=>{t(o.target.value),n(o.target.value)};return H.jsx(Ue,{direction:"vertical",style:{width:"100%"},children:H.jsx(re,{placeholder:"Search for a movie...",value:s,onChange:l,size:"large",style:{borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",padding:"8px 20px"}})})}function sn(){const e=le.use.search();return Ot({queryKey:["movies",e.s,e.page,e.type,e.y],queryFn:()=>st(e),placeholderData:at})}const Se={paddingTop:80};function on(){const{data:e,isError:a,isPending:s}=sn(),{s:t,page:n}=le.use.search(),l=le.use.updateSearch();return!t||s?H.jsx(be,{description:"No search term provided...",style:Se}):a?H.jsx(be,{description:"Error fetching data...",style:Se}):e.Response==="False"?H.jsx(be,{description:e.Error,style:Se}):H.jsxs(we,{vertical:!0,style:{flex:1,gap:24},children:[H.jsx(ht.Title,{level:2,style:{textAlign:"center"},children:"Search Result"}),H.jsx(xt,{gutter:[16,16],justify:"start",children:e.Search.map(o=>H.jsx(bt,{xs:24,sm:12,md:8,lg:6,children:H.jsx(Et,{...o},o.imdbID)},o.imdbID))}),H.jsx(Pt,{defaultCurrent:1,current:n,total:Number(e.totalResults),onChange:o=>l({page:o}),align:"center",style:{marginTop:"auto"}})]})}const pn=function(){return H.jsxs(we,{vertical:!0,gap:16,style:{height:"100%"},children:[H.jsx(an,{}),H.jsx(we,{vertical:!0,style:{flex:1},children:H.jsx(on,{})})]})};export{pn as component};
